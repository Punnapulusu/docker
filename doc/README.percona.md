## Percona-5.6 server

This provides `Docker` buildfile for a `Percona MySQL - 5.6`.
The result daemon will be launched by `supervisor`.

## Environments

* `MYSQL_UID`: The `uid` of `mysql` account. Default: `10003`.
* `MYSQL_GID`: The `guid` of `mysql` account. Default: `10003`.
* `MYSQL_ROOT_PASSWD`: The password of `root` account which is used
    when the `/mysql/` is empty.

## Volumes

* `/mysql/`: Where all `mysql` data are stored;
* `/etc/mysql/`: Configuration directory.

## Exposed port

* `3306`: The favorite `mysql` port.

## Build instruction

It's easy.

    $ cd context/
    $ bocker ../bocker/Bockerfile.percona > Dockerfile.percona
    $ docker build -t percona -f Dockerfile.percona .

## Notes

1. If `/mysql/` is empty, the container will try to initialize
   an database instance with `mysql_install_db` command.
   The root account will have password from `MYSQL_ROOT_PASSWD`
   environment, or have a random which is saved into
   `/mysql/docker-init.sql` script;
1. The script `/mysql/docker-int.sql` is generated by the daemon
   script, and it is used to update password for the `MYSQL` root
   account. This script is invoked every time your container is
   restarted, to make sure that root account has a root password
   as you provide from `MYSQL_ROOT_PASSWD` environment.
1. The real local users has no passowrd. That means, if you enter
   container shell with `docker exec -ti foo /bin/bash`, and type
   `mysql` you will immediately gain root account without any password;
1. Don't mount your `my.cnf` to `/etc/my/my.cnf`, because the
   data directory for container's process must be `/mysql/`.
   If you want to use your own file, please have it in `/mysql/my.cnf`;
   the daemon script will copy it `/etc/my/my.cnf`;
4. For partial files `/etc/my/conf.d/` you can safely mount it
   from the host machine.
