###############################################################
# Dockerfile generated by Bocker-v1.1. Do not edit this file. #
###############################################################

FROM debian:wheezy
MAINTAINER Anh K. Huynh <kyanh@theslinux.org>

# Bocker method => __ed_ship
# * The output is /bocker.sh in the result image.
# * List of methods:
#   - ed_apt_clean
#   - ed_apt_install
#   - ed_apt_purge
#
# | set -eux
# | if [[ -f /bocker.sh ]]; then source /bocker.sh; fi
# | ed_apt_clean () 
# | { 
# |     rm -fv /var/cache/apt/*.bin;
# |     rm -fv /var/cache/apt/archives/*.*;
# |     rm -fv /var/lib/apt/lists/*.*;
# |     apt-get autoclean
# | }
# | ed_apt_install () 
# | { 
# |     apt-get update;
# |     DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends $@
# | }
# | ed_apt_purge () 
# | { 
# |     apt-get purge -y --auto-remove $@;
# |     ed_apt_clean
# | }
# | echo '#!/bin/bash' > /bocker.sh
# | echo '# This file is generated by Bocker.' >> /bocker.sh
# | declare -f >> /bocker.sh
# | echo 'if [[ -n "$@" ]]; then $@; fi; ' >> /bocker.sh
# | chmod 755 /bocker.sh
#
RUN echo \
c2V0IC1ldXgKaWYgW1sgLWYgL2JvY2tlci5zaCBdXTsgdGhlbiBzb3VyY2UgL2JvY2tlci5\
zaDsgZmkKZWRfYXB0X2NsZWFuICgpIAp7IAogICAgcm0gLWZ2IC92YXIvY2FjaGUvYXB0Ly\
ouYmluOwogICAgcm0gLWZ2IC92YXIvY2FjaGUvYXB0L2FyY2hpdmVzLyouKjsKICAgIHJtI\
C1mdiAvdmFyL2xpYi9hcHQvbGlzdHMvKi4qOwogICAgYXB0LWdldCBhdXRvY2xlYW4KfQpl\
ZF9hcHRfaW5zdGFsbCAoKSAKeyAKICAgIGFwdC1nZXQgdXBkYXRlOwogICAgREVCSUFOX0Z\
ST05URU5EPW5vbmludGVyYWN0aXZlIGFwdC1nZXQgaW5zdGFsbCAteSAtLW5vLWluc3RhbG\
wtcmVjb21tZW5kcyAkQAp9CmVkX2FwdF9wdXJnZSAoKSAKeyAKICAgIGFwdC1nZXQgcHVyZ\
2UgLXkgLS1hdXRvLXJlbW92ZSAkQDsKICAgIGVkX2FwdF9jbGVhbgp9CmVjaG8gJyMhL2Jp\
bi9iYXNoJyA+IC9ib2NrZXIuc2gKZWNobyAnIyBUaGlzIGZpbGUgaXMgZ2VuZXJhdGVkIGJ\
5IEJvY2tlci4nID4+IC9ib2NrZXIuc2gKZGVjbGFyZSAtZiA+PiAvYm9ja2VyLnNoCmVjaG\
8gJ2lmIFtbIC1uICIkQCIgXV07IHRoZW4gJEA7IGZpOyAnID4+IC9ib2NrZXIuc2gKY2htb\
2QgNzU1IC9ib2NrZXIuc2gK\
  | base64 -d | bash

# Bocker method => ed_supervisor_install_base
#
# | set -eux
# | if [[ -f /bocker.sh ]]; then source /bocker.sh; fi
# | ed_supervisor_install_base () 
# | { 
# |     ed_apt_install supervisor cron exim4-daemon-light curl ca-certificates;
# |     ed_apt_clean;
# |     rm -rf /etc/supervisor/;
# |     mkdir -pv /etc/s.supervisor/ /supervisor/;
# |     ln -s /usr/bin/supervisorctl /usr/bin/s;
# |     rm -rf /var/log/exim4/ /var/spool/exim4/
# | }
# | ed_supervisor_install_base
#
RUN echo \
c2V0IC1ldXgKaWYgW1sgLWYgL2JvY2tlci5zaCBdXTsgdGhlbiBzb3VyY2UgL2JvY2tlci5\
zaDsgZmkKZWRfc3VwZXJ2aXNvcl9pbnN0YWxsX2Jhc2UgKCkgCnsgCiAgICBlZF9hcHRfaW\
5zdGFsbCBzdXBlcnZpc29yIGNyb24gZXhpbTQtZGFlbW9uLWxpZ2h0IGN1cmwgY2EtY2Vyd\
GlmaWNhdGVzOwogICAgZWRfYXB0X2NsZWFuOwogICAgcm0gLXJmIC9ldGMvc3VwZXJ2aXNv\
ci87CiAgICBta2RpciAtcHYgL2V0Yy9zLnN1cGVydmlzb3IvIC9zdXBlcnZpc29yLzsKICA\
gIGxuIC1zIC91c3IvYmluL3N1cGVydmlzb3JjdGwgL3Vzci9iaW4vczsKICAgIHJtIC1yZi\
AvdmFyL2xvZy9leGltNC8gL3Zhci9zcG9vbC9leGltNC8KfQplZF9zdXBlcnZpc29yX2luc\
3RhbGxfYmFzZQo=\
  | base64 -d | bash

# Bocker method => ed_supervisor_install_supervisor
#
# | set -eux
# | if [[ -f /bocker.sh ]]; then source /bocker.sh; fi
# | ed_supervisor_install_supervisor () 
# | { 
# |     ed_apt_install python-setuptools;
# |     curl -Lso /usr/bin/syslog-stdout.py https://raw.githubusercontent.com/icyfork/syslog-stdout/master/syslog-stdout.py;
# |     mkdir -pv /usr/src/pip/;
# |     cd /usr/src/pip/;
# |     curl -Lso - https://github.com/icyfork/supervisor-stdout/archive/master.tar.gz | tar -xzf - -C /usr/src/pip/ --strip-components=1;
# |     python2 setup.py install;
# |     cd /;
# |     rm -rf /usr/src/pip/;
# |     ed_apt_purge python-setuptools
# | }
# | ed_supervisor_install_supervisor
#
RUN echo \
c2V0IC1ldXgKaWYgW1sgLWYgL2JvY2tlci5zaCBdXTsgdGhlbiBzb3VyY2UgL2JvY2tlci5\
zaDsgZmkKZWRfc3VwZXJ2aXNvcl9pbnN0YWxsX3N1cGVydmlzb3IgKCkgCnsgCiAgICBlZF\
9hcHRfaW5zdGFsbCBweXRob24tc2V0dXB0b29sczsKICAgIGN1cmwgLUxzbyAvdXNyL2Jpb\
i9zeXNsb2ctc3Rkb3V0LnB5IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9p\
Y3lmb3JrL3N5c2xvZy1zdGRvdXQvbWFzdGVyL3N5c2xvZy1zdGRvdXQucHk7CiAgICBta2R\
pciAtcHYgL3Vzci9zcmMvcGlwLzsKICAgIGNkIC91c3Ivc3JjL3BpcC87CiAgICBjdXJsIC\
1Mc28gLSBodHRwczovL2dpdGh1Yi5jb20vaWN5Zm9yay9zdXBlcnZpc29yLXN0ZG91dC9hc\
mNoaXZlL21hc3Rlci50YXIuZ3ogfCB0YXIgLXh6ZiAtIC1DIC91c3Ivc3JjL3BpcC8gLS1z\
dHJpcC1jb21wb25lbnRzPTE7CiAgICBweXRob24yIHNldHVwLnB5IGluc3RhbGw7CiAgICB\
jZCAvOwogICAgcm0gLXJmIC91c3Ivc3JjL3BpcC87CiAgICBlZF9hcHRfcHVyZ2UgcHl0aG\
9uLXNldHVwdG9vbHMKfQplZF9zdXBlcnZpc29yX2luc3RhbGxfc3VwZXJ2aXNvcgo=\
  | base64 -d | bash

# Bocker method => ed_supervisor_install_init_script
#
# | set -eux
# | if [[ -f /bocker.sh ]]; then source /bocker.sh; fi
# | ed_supervisor_install_init_script () 
# | { 
# |     { 
# |         echo "#!/bin/bash";
# |         echo "/bocker.sh ed_cron_generate_config";
# |         echo "/bocker.sh ed_exim4_generate_config";
# |         echo "/bocker.sh ed_msyslog_generate_config";
# |         echo "exec /bocker.sh ed_supervisor_daemonize"
# |     } > /supervisor.sh;
# |     chmod 755 /supervisor.sh
# | }
# | ed_supervisor_install_init_script
#
RUN echo \
c2V0IC1ldXgKaWYgW1sgLWYgL2JvY2tlci5zaCBdXTsgdGhlbiBzb3VyY2UgL2JvY2tlci5\
zaDsgZmkKZWRfc3VwZXJ2aXNvcl9pbnN0YWxsX2luaXRfc2NyaXB0ICgpIAp7IAogICAgey\
AKICAgICAgICBlY2hvICIjIS9iaW4vYmFzaCI7CiAgICAgICAgZWNobyAiL2JvY2tlci5za\
CBlZF9jcm9uX2dlbmVyYXRlX2NvbmZpZyI7CiAgICAgICAgZWNobyAiL2JvY2tlci5zaCBl\
ZF9leGltNF9nZW5lcmF0ZV9jb25maWciOwogICAgICAgIGVjaG8gIi9ib2NrZXIuc2ggZWR\
fbXN5c2xvZ19nZW5lcmF0ZV9jb25maWciOwogICAgICAgIGVjaG8gImV4ZWMgL2JvY2tlci\
5zaCBlZF9zdXBlcnZpc29yX2RhZW1vbml6ZSIKICAgIH0gPiAvc3VwZXJ2aXNvci5zaDsKI\
CAgIGNobW9kIDc1NSAvc3VwZXJ2aXNvci5zaAp9CmVkX3N1cGVydmlzb3JfaW5zdGFsbF9p\
bml0X3NjcmlwdAo=\
  | base64 -d | bash

# Bocker methods:
# - ed_nginx_install_packages
# - ed_nginx_download_source
# - ed_nginx_build
# - ed_nginx_clean_up
# - ed_nginx_create_generator
#
# | set -eux
# | if [[ -f /bocker.sh ]]; then source /bocker.sh; fi
# | ed_nginx_install_packages () 
# | { 
# |     export NGINX_VERSION=1.8.0;
# |     export NGINX_CHECKSUM=12bad312764feae50246685ab2e74512d1aa9b2f;
# |     ed_apt_install gcc libc6-dev make libpcre3-dev git nginx libssl-dev
# | }
# | ed_nginx_download_source () 
# | { 
# |     mkdir -pv /usr/src/build/modules/;
# |     cd /usr/src/build/;
# |     curl -Lso- https://github.com/openresty/echo-nginx-module/archive/v0.57.tar.gz | tar -xzf - -C /usr/src/build/modules/;
# |     curl -Lso- https://github.com/openresty/headers-more-nginx-module/archive/v0.25.tar.gz | tar -xzf - -C /usr/src/build/modules/;
# |     curl -Lso /usr/src/build/nginx.tar.gz http://nginx.org/download/nginx-${NGINX_VERSION}.tar.gz;
# |     echo "$NGINX_CHECKSUM *nginx.tar.gz" | sha1sum -c -;
# |     tar -xzf nginx.tar.gz -C /usr/src/build/
# | }
# | ed_nginx_build () 
# | { 
# |     _NGINX_NAME="nginx-${NGINX_VERSION}";
# |     _NGINX_FLAGS="
# |       --prefix=/usr/       --conf-path=/etc/nginx/nginx.conf
# |       --http-log-path=/var/log/nginx/access.log
# |       --error-log-path=/var/log/nginx/error.log
# |       --lock-path=/var/lock/nginx.lock
# |       --pid-path=/run/nginx.pid
# |       --http-client-body-temp-path=/var/lib/nginx/body
# |       --http-fastcgi-temp-path=/var/lib/nginx/fastcgi
# |       --http-proxy-temp-path=/var/lib/nginx/proxy
# |       --http-scgi-temp-path=/var/lib/nginx/scgi
# |       --http-uwsgi-temp-path=/var/lib/nginx/uwsgi
# |       --with-pcre
# |       --with-http_ssl_module
# |       --with-http_stub_status_module
# |       --with-http_realip_module
# |       --with-http_gzip_static_module
# |       --with-http_sub_module
# |     ";
# |     _NONSTANDARD_MODULES="";
# |     _D_BUILD="/usr/src/build/";
# |     _NONSTANDARD_MODULES="$(     find $_D_BUILD/modules/           -mindepth 1 -maxdepth 1 -type d       | while read _d; do           echo -en " --add-module=$_d";         done)";
# |     cd $_D_BUILD/$_NGINX_NAME;
# |     sed -i -e 's# bgcolor=\\"white\\"##g' -e 's#<center><h1>##g' -e 's#</h1></center>##g' -e '/NGINX_VER/d' -e '/>nginx</d' ./src/http/ngx_http_special_response.c;
# |     sh configure $_NGINX_FLAGS $_NONSTANDARD_MODULES;
# |     make;
# |     make install
# | }
# | ed_nginx_clean_up () 
# | { 
# |     cd /;
# |     rm -rf /etc/nginx/ /usr/src/build/;
# |     ed_apt_purge make libpcre3-dev git libssl-dev
# | }
# | ed_nginx_create_generator () 
# | { 
# |     { 
# |         echo "#!/bin/bash";
# |         echo "/bocker.sh ed_nginx_generate_config"
# |     } > /etc/s.supervisor/nginx.sh
# | }
# | ed_nginx_install_packages
# | ed_nginx_download_source
# | ed_nginx_build
# | ed_nginx_clean_up
# | ed_nginx_create_generator
#
RUN echo \
c2V0IC1ldXgKaWYgW1sgLWYgL2JvY2tlci5zaCBdXTsgdGhlbiBzb3VyY2UgL2JvY2tlci5\
zaDsgZmkKZWRfbmdpbnhfaW5zdGFsbF9wYWNrYWdlcyAoKSAKeyAKICAgIGV4cG9ydCBOR0\
lOWF9WRVJTSU9OPTEuOC4wOwogICAgZXhwb3J0IE5HSU5YX0NIRUNLU1VNPTEyYmFkMzEyN\
zY0ZmVhZTUwMjQ2Njg1YWIyZTc0NTEyZDFhYTliMmY7CiAgICBlZF9hcHRfaW5zdGFsbCBn\
Y2MgbGliYzYtZGV2IG1ha2UgbGlicGNyZTMtZGV2IGdpdCBuZ2lueCBsaWJzc2wtZGV2Cn0\
KZWRfbmdpbnhfZG93bmxvYWRfc291cmNlICgpIAp7IAogICAgbWtkaXIgLXB2IC91c3Ivc3\
JjL2J1aWxkL21vZHVsZXMvOwogICAgY2QgL3Vzci9zcmMvYnVpbGQvOwogICAgY3VybCAtT\
HNvLSBodHRwczovL2dpdGh1Yi5jb20vb3BlbnJlc3R5L2VjaG8tbmdpbngtbW9kdWxlL2Fy\
Y2hpdmUvdjAuNTcudGFyLmd6IHwgdGFyIC14emYgLSAtQyAvdXNyL3NyYy9idWlsZC9tb2R\
1bGVzLzsKICAgIGN1cmwgLUxzby0gaHR0cHM6Ly9naXRodWIuY29tL29wZW5yZXN0eS9oZW\
FkZXJzLW1vcmUtbmdpbngtbW9kdWxlL2FyY2hpdmUvdjAuMjUudGFyLmd6IHwgdGFyIC14e\
mYgLSAtQyAvdXNyL3NyYy9idWlsZC9tb2R1bGVzLzsKICAgIGN1cmwgLUxzbyAvdXNyL3Ny\
Yy9idWlsZC9uZ2lueC50YXIuZ3ogaHR0cDovL25naW54Lm9yZy9kb3dubG9hZC9uZ2lueC0\
ke05HSU5YX1ZFUlNJT059LnRhci5nejsKICAgIGVjaG8gIiROR0lOWF9DSEVDS1NVTSAqbm\
dpbngudGFyLmd6IiB8IHNoYTFzdW0gLWMgLTsKICAgIHRhciAteHpmIG5naW54LnRhci5ne\
iAtQyAvdXNyL3NyYy9idWlsZC8KfQplZF9uZ2lueF9idWlsZCAoKSAKeyAKICAgIF9OR0lO\
WF9OQU1FPSJuZ2lueC0ke05HSU5YX1ZFUlNJT059IjsKICAgIF9OR0lOWF9GTEFHUz0iCiA\
gICAgIC0tcHJlZml4PS91c3IvICAgICAgIC0tY29uZi1wYXRoPS9ldGMvbmdpbngvbmdpbn\
guY29uZgogICAgICAtLWh0dHAtbG9nLXBhdGg9L3Zhci9sb2cvbmdpbngvYWNjZXNzLmxvZ\
wogICAgICAtLWVycm9yLWxvZy1wYXRoPS92YXIvbG9nL25naW54L2Vycm9yLmxvZwogICAg\
ICAtLWxvY2stcGF0aD0vdmFyL2xvY2svbmdpbngubG9jawogICAgICAtLXBpZC1wYXRoPS9\
ydW4vbmdpbngucGlkCiAgICAgIC0taHR0cC1jbGllbnQtYm9keS10ZW1wLXBhdGg9L3Zhci\
9saWIvbmdpbngvYm9keQogICAgICAtLWh0dHAtZmFzdGNnaS10ZW1wLXBhdGg9L3Zhci9sa\
WIvbmdpbngvZmFzdGNnaQogICAgICAtLWh0dHAtcHJveHktdGVtcC1wYXRoPS92YXIvbGli\
L25naW54L3Byb3h5CiAgICAgIC0taHR0cC1zY2dpLXRlbXAtcGF0aD0vdmFyL2xpYi9uZ2l\
ueC9zY2dpCiAgICAgIC0taHR0cC11d3NnaS10ZW1wLXBhdGg9L3Zhci9saWIvbmdpbngvdX\
dzZ2kKICAgICAgLS13aXRoLXBjcmUKICAgICAgLS13aXRoLWh0dHBfc3NsX21vZHVsZQogI\
CAgICAtLXdpdGgtaHR0cF9zdHViX3N0YXR1c19tb2R1bGUKICAgICAgLS13aXRoLWh0dHBf\
cmVhbGlwX21vZHVsZQogICAgICAtLXdpdGgtaHR0cF9nemlwX3N0YXRpY19tb2R1bGUKICA\
gICAgLS13aXRoLWh0dHBfc3ViX21vZHVsZQogICAgIjsKICAgIF9OT05TVEFOREFSRF9NT0\
RVTEVTPSIiOwogICAgX0RfQlVJTEQ9Ii91c3Ivc3JjL2J1aWxkLyI7CiAgICBfTk9OU1RBT\
kRBUkRfTU9EVUxFUz0iJCggICAgIGZpbmQgJF9EX0JVSUxEL21vZHVsZXMvICAgICAgICAg\
ICAtbWluZGVwdGggMSAtbWF4ZGVwdGggMSAtdHlwZSBkICAgICAgIHwgd2hpbGUgcmVhZCB\
fZDsgZG8gICAgICAgICAgIGVjaG8gLWVuICIgLS1hZGQtbW9kdWxlPSRfZCI7ICAgICAgIC\
AgZG9uZSkiOwogICAgY2QgJF9EX0JVSUxELyRfTkdJTlhfTkFNRTsKICAgIHNlZCAtaSAtZ\
SAncyMgYmdjb2xvcj1cXCJ3aGl0ZVxcIiMjZycgLWUgJ3MjPGNlbnRlcj48aDE+IyNnJyAt\
ZSAncyM8L2gxPjwvY2VudGVyPiMjZycgLWUgJy9OR0lOWF9WRVIvZCcgLWUgJy8+bmdpbng\
8L2QnIC4vc3JjL2h0dHAvbmd4X2h0dHBfc3BlY2lhbF9yZXNwb25zZS5jOwogICAgc2ggY2\
9uZmlndXJlICRfTkdJTlhfRkxBR1MgJF9OT05TVEFOREFSRF9NT0RVTEVTOwogICAgbWFrZ\
TsKICAgIG1ha2UgaW5zdGFsbAp9CmVkX25naW54X2NsZWFuX3VwICgpIAp7IAogICAgY2Qg\
LzsKICAgIHJtIC1yZiAvZXRjL25naW54LyAvdXNyL3NyYy9idWlsZC87CiAgICBlZF9hcHR\
fcHVyZ2UgbWFrZSBsaWJwY3JlMy1kZXYgZ2l0IGxpYnNzbC1kZXYKfQplZF9uZ2lueF9jcm\
VhdGVfZ2VuZXJhdG9yICgpIAp7IAogICAgeyAKICAgICAgICBlY2hvICIjIS9iaW4vYmFza\
CI7CiAgICAgICAgZWNobyAiL2JvY2tlci5zaCBlZF9uZ2lueF9nZW5lcmF0ZV9jb25maWci\
CiAgICB9ID4gL2V0Yy9zLnN1cGVydmlzb3Ivbmdpbnguc2gKfQplZF9uZ2lueF9pbnN0YWx\
sX3BhY2thZ2VzCmVkX25naW54X2Rvd25sb2FkX3NvdXJjZQplZF9uZ2lueF9idWlsZAplZF\
9uZ2lueF9jbGVhbl91cAplZF9uZ2lueF9jcmVhdGVfZ2VuZXJhdG9yCg==\
  | base64 -d | bash

ADD etc/nginx/ /etc/nginx/

# Bocker method => ed_phpfpm_install
#
# | set -eux
# | if [[ -f /bocker.sh ]]; then source /bocker.sh; fi
# | ed_phpfpm_install () 
# | { 
# |     ed_apt_install php5-mysql php5-curl php5-gd php5-cgi php-mail php5-fpm;
# |     ed_apt_clean;
# |     mkdir -p /phpfpm/www/ /phpfpm/var/ /phpfpm/logs/;
# |     { 
# |         echo "#!/bin/bash";
# |         echo "/bocker.sh ed_phpfpm_generate_config"
# |     } > /etc/s.supervisor/phpfpm.sh
# | }
# | ed_phpfpm_install
#
RUN echo \
c2V0IC1ldXgKaWYgW1sgLWYgL2JvY2tlci5zaCBdXTsgdGhlbiBzb3VyY2UgL2JvY2tlci5\
zaDsgZmkKZWRfcGhwZnBtX2luc3RhbGwgKCkgCnsgCiAgICBlZF9hcHRfaW5zdGFsbCBwaH\
A1LW15c3FsIHBocDUtY3VybCBwaHA1LWdkIHBocDUtY2dpIHBocC1tYWlsIHBocDUtZnBtO\
wogICAgZWRfYXB0X2NsZWFuOwogICAgbWtkaXIgLXAgL3BocGZwbS93d3cvIC9waHBmcG0v\
dmFyLyAvcGhwZnBtL2xvZ3MvOwogICAgeyAKICAgICAgICBlY2hvICIjIS9iaW4vYmFzaCI\
7CiAgICAgICAgZWNobyAiL2JvY2tlci5zaCBlZF9waHBmcG1fZ2VuZXJhdGVfY29uZmlnIg\
ogICAgfSA+IC9ldGMvcy5zdXBlcnZpc29yL3BocGZwbS5zaAp9CmVkX3BocGZwbV9pbnN0Y\
WxsCg==\
  | base64 -d | bash

ADD phpfpm.conf.default /phpfpm/

# Bocker method => ed_wordpress_install_generator
#
# | set -eux
# | if [[ -f /bocker.sh ]]; then source /bocker.sh; fi
# | ed_wordpress_install_generator () 
# | { 
# |     { 
# |         echo "#!/bin/bash";
# |         echo "/bocker.sh ed_wordpress_generate_config"
# |     } > /etc/s.supervisor/wordpress.sh
# | }
# | ed_wordpress_install_generator
#
RUN echo \
c2V0IC1ldXgKaWYgW1sgLWYgL2JvY2tlci5zaCBdXTsgdGhlbiBzb3VyY2UgL2JvY2tlci5\
zaDsgZmkKZWRfd29yZHByZXNzX2luc3RhbGxfZ2VuZXJhdG9yICgpIAp7IAogICAgeyAKIC\
AgICAgICBlY2hvICIjIS9iaW4vYmFzaCI7CiAgICAgICAgZWNobyAiL2JvY2tlci5zaCBlZ\
F93b3JkcHJlc3NfZ2VuZXJhdGVfY29uZmlnIgogICAgfSA+IC9ldGMvcy5zdXBlcnZpc29y\
L3dvcmRwcmVzcy5zaAp9CmVkX3dvcmRwcmVzc19pbnN0YWxsX2dlbmVyYXRvcgo=\
  | base64 -d | bash

# Bocker method => __ed_ship
# * The output is /bocker.sh in the result image.
# * List of methods:
#   - ed_cron_daemonize
#   - ed_cron_generate_config
#   - ed_exim4_config_update
#   - ed_exim4_daemonize
#   - ed_exim4_generate_config
#   - ed_exim4_uid_gid_update
#   - ed_msyslog_damonize
#   - ed_msyslog_generate_config
#   - ed_nginx_daemonize
#   - ed_nginx_generate_config
#   - ed_phpfpm_daemonize
#   - ed_phpfpm_generate_config
#   - ed_phpfpm_generate_nginx_config
#   - ed_supervisor_daemonize
#   - ed_supervisor_execute_generators
#   - ed_supervisor_fix_uid_gid
#   - ed_supervisor_generate_base_config
#   - ed_wordpress_generate_config
#   - ed_wordpress_generate_wp_config
#
# | set -eux
# | if [[ -f /bocker.sh ]]; then source /bocker.sh; fi
# | ed_cron_daemonize () 
# | { 
# |     if [[ "${CRON_ENABLE:-0}" == "0" ]]; then
# |         rm -f /etc/s.supervisor/cron.s;
# |         exit 0;
# |     fi;
# |     exec /usr/sbin/cron -f -L ${CRON_LOGLEVEL:-1}
# | }
# | ed_cron_generate_config () 
# | { 
# |     if [[ "${CRON_ENABLE:-0}" == "0" ]]; then
# |         rm -f /etc/s.supervisor/cron.s;
# |         exit 0;
# |     fi;
# |     cat > /etc/s.supervisor/cron.s  <<EOF
# | [program:cron]
# | command=/bocker.sh ed_cron_daemonize
# | process_name=%(program_name)s
# | numprocs=1
# | directory=/
# | umask=022
# | priority=999
# | autostart=true
# | autorestart=true
# | startsecs=1
# | startretries=3
# | exitcodes=0,2
# | stopsignal=TERM
# | stopwaitsecs=10
# | user=root
# | redirect_stderr=true
# | stdout_logfile=/supervisor/cron.log
# | stdout_logfile_maxbytes=50MB
# | stdout_logfile_backups=10
# | stdout_capture_maxbytes=0
# | stdout_events_enabled=false
# | stderr_logfile=AUTO
# | stderr_logfile_maxbytes=50MB
# | stderr_logfile_backups=10
# | stderr_capture_maxbytes=0
# | stderr_events_enabled=false
# | environment=
# | EOF
# | 
# | }
# | ed_exim4_config_update () 
# | { 
# |     local _other_names;
# |     if [[ "${EXIM4_MINE_CONFIG:-0}" != 0 ]]; then
# |         /usr/sbin/update-exim4.conf;
# |         return;
# |     fi;
# |     if [[ -z "${EXIM4_MAILNAME:-}" ]]; then
# |         EXIM4_MAILNAME="$(hostname -f)";
# |     fi;
# |     echo "$EXIM4_MAILNAME" > /etc/mailname;
# |     local _other_names="$EXIM4_MAILNAME";
# |     for _name in ${EXIM4_OTHER_NAMES:-};
# |     do
# |         _other_names="$_other_names ; $_name";
# |     done;
# |     cat > /etc/exim4/update-exim4.conf.conf  <<EOF
# | # This file is generated by Docker generator.
# | # Please do not edit this file.
# | dc_eximconfig_configtype='internet'
# | dc_other_hostnames='$_other_names'
# | dc_local_interfaces='127.0.0.1 ; ::1'
# | dc_readhost=''
# | dc_relay_domains=''
# | dc_minimaldns='false'
# | dc_relay_nets=''
# | dc_smarthost=''
# | CFILEMODE='644'
# | dc_use_split_config='true'
# | dc_hide_mailname=''
# | dc_mailname_in_oh='true'
# | dc_localdelivery='mail_spool'
# | EOF
# | 
# |     /usr/sbin/update-exim4.conf
# | }
# | ed_exim4_daemonize () 
# | { 
# |     if [[ "${EXIM4_ENABLE:-0}" == "0" ]]; then
# |         rm -f /etc/s.supervisor/exim4.s;
# |         exit 0;
# |     fi;
# |     exec /usr/sbin/exim4 -v -bdf -q30m
# | }
# | ed_exim4_generate_config () 
# | { 
# |     ed_exim4_uid_gid_update;
# |     ed_exim4_config_update;
# |     cat > /etc/s.supervisor/exim4.s  <<EOF
# | [program:exim4]
# | command=/bocker.sh ed_exim4_daemonize
# | process_name=%(program_name)s
# | numprocs=1
# | directory=/
# | umask=022
# | priority=999
# | autostart=true
# | autorestart=true
# | startsecs=1
# | startretries=3
# | exitcodes=0,2
# | stopsignal=TERM
# | stopwaitsecs=10
# | user=Debian-exim
# | redirect_stderr=true
# | stdout_logfile=/supervisor/exim4.log
# | stdout_logfile_maxbytes=50MB
# | stdout_logfile_backups=10
# | stdout_capture_maxbytes=0
# | stdout_events_enabled=false
# | stderr_logfile=AUTO
# | stderr_logfile_maxbytes=50MB
# | stderr_logfile_backups=10
# | stderr_capture_maxbytes=0
# | stderr_events_enabled=false
# | environment=
# | EOF
# | 
# | }
# | ed_exim4_uid_gid_update () 
# | { 
# |     if [[ "${EXIM4_ENABLE:-0}" == "0" ]]; then
# |         rm -f /etc/s.supervisor/exim4.s;
# |         exit 0;
# |     fi;
# |     EXIM4_UID="${EXIM4_UID:-10004}";
# |     EXIM4_GID="${EXIM4_GID:-10004}";
# |     groupmod -g "$EXIM4_GID" Debian-exim;
# |     usermod -g "$EXIM4_GID" -u "$EXIM4_UID" Debian-exim;
# |     mkdir -pv /var/log/exim4 /var/spool/exim4/;
# |     chmod 750 /var/log/exim4 /var/spool/exim4/;
# |     chown Debian-exim:Debian-exim -Rc /var/spool/exim4/;
# |     chown Debian-exim:Debian-exim -Rc /var/log/exim4/;
# |     chown root:Debian-exim /etc/exim4/passwd.client;
# |     ln -vs /var/mail/mail /var/mail/root || :
# | }
# | ed_msyslog_damonize () 
# | { 
# |     if [[ "${MSYSLOG_ENABLE:-0}" == "0" ]]; then
# |         rm -f /etc/s.supervisor/msyslog.s;
# |         exit 0;
# |     fi;
# |     exec python2 /usr/bin/syslog-stdout.py
# | }
# | ed_msyslog_generate_config () 
# | { 
# |     if [[ "${MSYSLOG_ENABLE:-0}" == "0" ]]; then
# |         rm -f /etc/s.supervisor/msyslog.s;
# |         exit 0;
# |     fi;
# |     cat > /etc/s.supervisor/msyslog.s  <<-EOF
# | [eventlistener:stdout]
# | command = supervisor_stdout
# | buffer_size = 100
# | events = PROCESS_LOG
# | result_handler = supervisor_stdout:event_handler
# | priority = 1
# | 
# | [program:msyslog]
# | command=/bocker.sh ed_msyslog_damonize
# | stdout_events_enabled = true
# | stderr_events_enabled = true
# | priority = 10
# | EOF
# | 
# | }
# | ed_nginx_daemonize () 
# | { 
# |     /usr/sbin/nginx -t -c /etc/nginx/nginx.conf || exit 1;
# |     exec /usr/sbin/nginx -c /etc/nginx/nginx.conf
# | }
# | ed_nginx_generate_config () 
# | { 
# |     chown -R www-data:www-data /var/lib/nginx;
# |     cat > /etc/s.supervisor/nginx.s  <<EOF
# | [program:nginx]
# | command=/bocker.sh ed_nginx_daemonize
# | process_name=%(program_name)s
# | numprocs=1
# | directory=/
# | umask=022
# | priority=999
# | autostart=true
# | autorestart=true
# | startsecs=1
# | startretries=3
# | exitcodes=0,2
# | stopsignal=TERM
# | stopwaitsecs=10
# | user=root
# | redirect_stderr=true
# | stdout_logfile=/supervisor/nginx.log
# | stdout_logfile_maxbytes=50MB
# | stdout_logfile_backups=10
# | stdout_capture_maxbytes=0
# | stdout_events_enabled=false
# | stderr_logfile=AUTO
# | stderr_logfile_maxbytes=50MB
# | stderr_logfile_backups=10
# | stderr_capture_maxbytes=0
# | stderr_events_enabled=false
# | environment=
# | EOF
# | 
# | }
# | ed_phpfpm_daemonize () 
# | { 
# |     exec /usr/sbin/php5-fpm -F -y /phpfpm/phpfpm.conf
# | }
# | ed_phpfpm_generate_config () 
# | { 
# |     local _F_CONFIG="/etc/nginx/sites/phpfpm.conf";
# |     export PHPFPM_DOMAIN="${PHPFPM_DOMAIN:-$(hostname -f || hostname)}";
# |     if [[ ! -f "$_F_CONFIG" ]]; then
# |         echo ":: Warning: Generating $_F_CONFIG)..." 1>&2;
# |         ed_phpfpm_generate_nginx_config > $_F_CONFIG;
# |     fi;
# |     _F_CONFIG="/phpfpm/phpfpm.conf";
# |     if [[ ! -f $_F_CONFIG ]]; then
# |         echo ":: Using the default configuration file..." 1>&2;
# |         cp -fv $_F_CONFIG.default $_F_CONFIG;
# |     fi;
# |     mkdir -pv /phpfpm/var/ /phpfpm/logs/;
# |     chown -c www-data:www-data /phpfpm/var/ /phpfpm/logs/;
# |     chmod -c 750 /phpfpm/var/ /phpfpm/logs/;
# |     cat > /etc/s.supervisor/phpfpm.s  <<EOF
# | [program:phpfpm]
# | command=/bocker.sh ed_phpfpm_daemonize
# | process_name=%(program_name)s
# | numprocs=1
# | directory=/
# | umask=022
# | priority=999
# | autostart=true
# | autorestart=true
# | startsecs=1
# | startretries=3
# | exitcodes=0,2
# | stopsignal=TERM
# | stopwaitsecs=10
# | user=www-data
# | redirect_stderr=true
# | stdout_logfile=/supervisor/phpfpm.log
# | stdout_logfile_maxbytes=50MB
# | stdout_logfile_backups=10
# | stdout_capture_maxbytes=0
# | stdout_events_enabled=false
# | stderr_logfile=AUTO
# | stderr_logfile_maxbytes=50MB
# | stderr_logfile_backups=10
# | stderr_capture_maxbytes=0
# | stderr_events_enabled=false
# | environment=
# | EOF
# | 
# | }
# | ed_phpfpm_generate_nginx_config () 
# | { 
# |     cat  <<-EOF
# |   # This file was generated for Wordpress/phpfpm.
# |   server {
# |     listen       80;
# |     server_name  ${PHPFPM_DOMAIN} ${PHPFPM_OTHER_DOMAINS:-};
# |     root         /phpfpm/www/;
# | 
# |     index index.php index.html;
# | 
# |     error_log   /var/log/nginx/${PHPFPM_DOMAIN}.error.log;
# |     access_log  /var/log/nginx/${PHPFPM_DOMAIN}.acces.log main;
# | 
# |     include /etc/nginx/misc/security.conf;
# | 
# |     location / {
# |       try_files \$uri \$uri/ /index.php?q=\$uri&\$args;
# |     }
# | 
# |     location ~ \.php$ {
# |       fastcgi_pass     unix:/phpfpm/var/phpfpm.sock;
# |       fastcgi_index    index.php;
# |       fastcgi_param    SCRIPT_FILENAME  /phpfpm/www/\$fastcgi_script_name;
# |       include          /etc/nginx/fastcgi_params;
# |     }
# |   }
# | EOF
# | 
# | }
# | ed_supervisor_daemonize () 
# | { 
# |     ed_supervisor_generate_base_config;
# |     ed_supervisor_fix_uid_gid;
# |     ed_supervisor_execute_generators;
# |     exec /usr/bin/supervisord --configuration /etc/supervisord.conf
# | }
# | ed_supervisor_execute_generators () 
# | { 
# |     while read FILE; do
# |         chmod -c 755 "$FILE";
# |         bash -n "$FILE" && { 
# |             echo ":: $FUNCNAME => $FILE..." 1>&2;
# |             bash "$FILE"
# |         } || true;
# |     done < <(find /etc/s.supervisor/ -type f -iname "*.sh" | sort)
# | }
# | ed_supervisor_fix_uid_gid () 
# | { 
# |     env | grep -E '^[A-Z0-9]+_UID=[0-9]+$' | awk -F '_UID=' '{
# |       name = tolower($1);
# |       if (name == "exim4") { name = "Debian-exim" ;}
# |       if (name == "www") { name = "www-data" ;}
# |       id = $2;
# |       if (id == 0) { id = 6000; }
# |       printf("groupmod -g %s %s || groupadd -g %s %s\n", id, name, id, name);
# |       printf("usermod -u %s -g %s %s || useradd -s /bin/true -u %s -g %s %s\n", id, id, name, id, id, name);
# |     }' | bash -x;
# |     env | grep -E '^[A-Z0-9]+_GID=[0-9]+$' | awk -F '_GID=' '{
# |       name = tolower($1);
# |       if (name == "exim4") { name = "Debian-exim" ;}
# |       if (name == "www") { name = "www-data" ;}
# |       id = $2;
# |       if (id == 0) { id = 6000; }
# |       printf("groupmod -g %s %s || groupadd -g %s %s\n", id, name, id, name);
# |     }' | bash -x
# | }
# | ed_supervisor_generate_base_config () 
# | { 
# |     cat > /etc/supervisord.conf  <<EOF
# | ;
# | ; supervisord main config file - v0.1
# | ; Do not edit this file
# | ;
# | 
# | [unix_http_server]
# | file=/var/run/supervisor.sock   ; (the path to the socket file)
# | chmod=0700                      ; sockef file mode (default 0700)
# | 
# | [supervisord]
# | nodaemon=true
# | logfile=/supervisor/__daemon.log ; (main log file;default $CWD/supervisord.log)
# | pidfile=/var/run/supervisord.pid ; (supervisord pidfile;default supervisord.pid)
# | childlogdir=/supervisor/         ; ('AUTO' child log dir, default $TEMP)
# | logfile_maxbytes=50MB            ; (max main logfile bytes b4 rotation;default 50MB)
# | logfile_backups=10               ; (num of main logfile rotation backups;default 10)
# | loglevel=${SUPERVISOR_LOG_LEVEL:-info}             ; (log level;default info; others: debug,warn,trace)
# | 
# | ; the below section must remain in the config file for RPC
# | ; (supervisorctl/web interface) to work, additional interfaces may be
# | ; added by defining them in separate rpcinterface: sections
# | [rpcinterface:supervisor]
# | supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface
# | 
# | [supervisorctl]
# | serverurl=unix:///var/run/supervisor.sock ; use a unix:// URL  for a unix socket
# | 
# | [include]
# | files = /etc/s.supervisor/*.s
# | EOF
# | 
# | }
# | ed_wordpress_generate_config () 
# | { 
# |     export WP_VERSION="${WP_VERSION:-4.2.2}";
# |     export WP_URL="${WP_URL:-https://wordpress.org/wordpress-4.2.2.tar.gz}";
# |     _F_CONFIG="/phpfpm/www/wp-config.php";
# |     if [[ ! -f "$_F_CONFIG" ]]; then
# |         echo ":: $FUNCNAME: Generating configuration '$_F_CONFIG'..." 1>&2;
# |         ed_wordpress_generate_wp_config > $_F_CONFIG;
# |     fi;
# |     if [[ -f "/phpfpm/www/wp-includes/version.php" ]]; then
# |         echo ":: $FUNCNAME: Wordpress does exist in /phpfpm/www/." 1>&2;
# |     else
# |         echo ":: $FUNCNAME: Downloading wordpress from ${WP_URL}..." 1>&2;
# |         curl -Lso- "${WP_URL}" | tar -xzf - --strip-components=1 -C /phpfpm/www/;
# |     fi;
# |     if [[ "${WP_FORCE_CHOWN:-}" == "1" ]]; then
# |         echo ":: $FUNCNAME: WP_FORCE_CHOWN is used to fix owner of all files under /phpfpm/www/" 1>&2;
# |         find /phpfpm/www/ -mindepth 1 -exec chown www-data: {} \;;
# |     fi
# | }
# | ed_wordpress_generate_wp_config () 
# | { 
# |     export WP_DB_NAME="${WP_DB_NAME:-wordpress}";
# |     export WP_DB_USER="${WP_DB_USER:-wordpress}";
# |     export WP_DB_PASSWD="${WP_DB_PASSWD:-wordpress}";
# |     export WP_DB_HOST="${WP_DB_HOST:-db}";
# |     function ed_wordpress_random_64_chars () 
# |     { 
# |         tr -dc '_A-Z-a-z-0-9!@#$%' < /dev/urandom | head -c64;
# |         echo ""
# |     };
# |     cat  <<-EOF
# | <?php
# | 
# | define('DB_NAME',     '${WP_DB_NAME}');
# | define('DB_USER',     '${WP_DB_USER}');
# | define('DB_PASSWORD', '${WP_DB_PASSWD}');
# | define('DB_HOST',     '${WP_DB_HOST}');
# | 
# | define('DB_CHARSET', 'utf8');
# | define('DB_COLLATE', '');
# | 
# | define('AUTH_KEY',         '$(ed_wordpress_random_64_chars)');
# | define('SECURE_AUTH_KEY',  '$(ed_wordpress_random_64_chars)');
# | define('LOGGED_IN_KEY',    '$(ed_wordpress_random_64_chars)');
# | define('NONCE_KEY',        '$(ed_wordpress_random_64_chars)');
# | define('AUTH_SALT',        '$(ed_wordpress_random_64_chars)');
# | define('SECURE_AUTH_SALT', '$(ed_wordpress_random_64_chars)');
# | define('LOGGED_IN_SALT',   '$(ed_wordpress_random_64_chars)');
# | define('NONCE_SALT',       '$(ed_wordpress_random_64_chars)');
# | 
# | \$table_prefix  = 'wp_';
# | 
# | define('WP_DEBUG', false);
# | 
# | if ( !defined('ABSPATH') )
# |   define('ABSPATH', dirname(__FILE__) . '/');
# | 
# | require_once(ABSPATH . 'wp-settings.php');
# | EOF
# | 
# | }
# | echo '#!/bin/bash' > /bocker.sh
# | echo '# This file is generated by Bocker.' >> /bocker.sh
# | declare -f >> /bocker.sh
# | echo 'if [[ -n "$@" ]]; then $@; fi; ' >> /bocker.sh
# | chmod 755 /bocker.sh
#
RUN echo \
c2V0IC1ldXgKaWYgW1sgLWYgL2JvY2tlci5zaCBdXTsgdGhlbiBzb3VyY2UgL2JvY2tlci5\
zaDsgZmkKZWRfY3Jvbl9kYWVtb25pemUgKCkgCnsgCiAgICBpZiBbWyAiJHtDUk9OX0VOQU\
JMRTotMH0iID09ICIwIiBdXTsgdGhlbgogICAgICAgIHJtIC1mIC9ldGMvcy5zdXBlcnZpc\
29yL2Nyb24uczsKICAgICAgICBleGl0IDA7CiAgICBmaTsKICAgIGV4ZWMgL3Vzci9zYmlu\
L2Nyb24gLWYgLUwgJHtDUk9OX0xPR0xFVkVMOi0xfQp9CmVkX2Nyb25fZ2VuZXJhdGVfY29\
uZmlnICgpIAp7IAogICAgaWYgW1sgIiR7Q1JPTl9FTkFCTEU6LTB9IiA9PSAiMCIgXV07IH\
RoZW4KICAgICAgICBybSAtZiAvZXRjL3Muc3VwZXJ2aXNvci9jcm9uLnM7CiAgICAgICAgZ\
XhpdCAwOwogICAgZmk7CiAgICBjYXQgPiAvZXRjL3Muc3VwZXJ2aXNvci9jcm9uLnMgIDw8\
RU9GCltwcm9ncmFtOmNyb25dCmNvbW1hbmQ9L2JvY2tlci5zaCBlZF9jcm9uX2RhZW1vbml\
6ZQpwcm9jZXNzX25hbWU9JShwcm9ncmFtX25hbWUpcwpudW1wcm9jcz0xCmRpcmVjdG9yeT\
0vCnVtYXNrPTAyMgpwcmlvcml0eT05OTkKYXV0b3N0YXJ0PXRydWUKYXV0b3Jlc3RhcnQ9d\
HJ1ZQpzdGFydHNlY3M9MQpzdGFydHJldHJpZXM9MwpleGl0Y29kZXM9MCwyCnN0b3BzaWdu\
YWw9VEVSTQpzdG9wd2FpdHNlY3M9MTAKdXNlcj1yb290CnJlZGlyZWN0X3N0ZGVycj10cnV\
lCnN0ZG91dF9sb2dmaWxlPS9zdXBlcnZpc29yL2Nyb24ubG9nCnN0ZG91dF9sb2dmaWxlX2\
1heGJ5dGVzPTUwTUIKc3Rkb3V0X2xvZ2ZpbGVfYmFja3Vwcz0xMApzdGRvdXRfY2FwdHVyZ\
V9tYXhieXRlcz0wCnN0ZG91dF9ldmVudHNfZW5hYmxlZD1mYWxzZQpzdGRlcnJfbG9nZmls\
ZT1BVVRPCnN0ZGVycl9sb2dmaWxlX21heGJ5dGVzPTUwTUIKc3RkZXJyX2xvZ2ZpbGVfYmF\
ja3Vwcz0xMApzdGRlcnJfY2FwdHVyZV9tYXhieXRlcz0wCnN0ZGVycl9ldmVudHNfZW5hYm\
xlZD1mYWxzZQplbnZpcm9ubWVudD0KRU9GCgp9CmVkX2V4aW00X2NvbmZpZ191cGRhdGUgK\
CkgCnsgCiAgICBsb2NhbCBfb3RoZXJfbmFtZXM7CiAgICBpZiBbWyAiJHtFWElNNF9NSU5F\
X0NPTkZJRzotMH0iICE9IDAgXV07IHRoZW4KICAgICAgICAvdXNyL3NiaW4vdXBkYXRlLWV\
4aW00LmNvbmY7CiAgICAgICAgcmV0dXJuOwogICAgZmk7CiAgICBpZiBbWyAteiAiJHtFWE\
lNNF9NQUlMTkFNRTotfSIgXV07IHRoZW4KICAgICAgICBFWElNNF9NQUlMTkFNRT0iJChob\
3N0bmFtZSAtZikiOwogICAgZmk7CiAgICBlY2hvICIkRVhJTTRfTUFJTE5BTUUiID4gL2V0\
Yy9tYWlsbmFtZTsKICAgIGxvY2FsIF9vdGhlcl9uYW1lcz0iJEVYSU00X01BSUxOQU1FIjs\
KICAgIGZvciBfbmFtZSBpbiAke0VYSU00X09USEVSX05BTUVTOi19OwogICAgZG8KICAgIC\
AgICBfb3RoZXJfbmFtZXM9IiRfb3RoZXJfbmFtZXMgOyAkX25hbWUiOwogICAgZG9uZTsKI\
CAgIGNhdCA+IC9ldGMvZXhpbTQvdXBkYXRlLWV4aW00LmNvbmYuY29uZiAgPDxFT0YKIyBU\
aGlzIGZpbGUgaXMgZ2VuZXJhdGVkIGJ5IERvY2tlciBnZW5lcmF0b3IuCiMgUGxlYXNlIGR\
vIG5vdCBlZGl0IHRoaXMgZmlsZS4KZGNfZXhpbWNvbmZpZ19jb25maWd0eXBlPSdpbnRlcm\
5ldCcKZGNfb3RoZXJfaG9zdG5hbWVzPSckX290aGVyX25hbWVzJwpkY19sb2NhbF9pbnRlc\
mZhY2VzPScxMjcuMC4wLjEgOyA6OjEnCmRjX3JlYWRob3N0PScnCmRjX3JlbGF5X2RvbWFp\
bnM9JycKZGNfbWluaW1hbGRucz0nZmFsc2UnCmRjX3JlbGF5X25ldHM9JycKZGNfc21hcnR\
ob3N0PScnCkNGSUxFTU9ERT0nNjQ0JwpkY191c2Vfc3BsaXRfY29uZmlnPSd0cnVlJwpkY1\
9oaWRlX21haWxuYW1lPScnCmRjX21haWxuYW1lX2luX29oPSd0cnVlJwpkY19sb2NhbGRlb\
Gl2ZXJ5PSdtYWlsX3Nwb29sJwpFT0YKCiAgICAvdXNyL3NiaW4vdXBkYXRlLWV4aW00LmNv\
bmYKfQplZF9leGltNF9kYWVtb25pemUgKCkgCnsgCiAgICBpZiBbWyAiJHtFWElNNF9FTkF\
CTEU6LTB9IiA9PSAiMCIgXV07IHRoZW4KICAgICAgICBybSAtZiAvZXRjL3Muc3VwZXJ2aX\
Nvci9leGltNC5zOwogICAgICAgIGV4aXQgMDsKICAgIGZpOwogICAgZXhlYyAvdXNyL3Nia\
W4vZXhpbTQgLXYgLWJkZiAtcTMwbQp9CmVkX2V4aW00X2dlbmVyYXRlX2NvbmZpZyAoKSAK\
eyAKICAgIGVkX2V4aW00X3VpZF9naWRfdXBkYXRlOwogICAgZWRfZXhpbTRfY29uZmlnX3V\
wZGF0ZTsKICAgIGNhdCA+IC9ldGMvcy5zdXBlcnZpc29yL2V4aW00LnMgIDw8RU9GCltwcm\
9ncmFtOmV4aW00XQpjb21tYW5kPS9ib2NrZXIuc2ggZWRfZXhpbTRfZGFlbW9uaXplCnByb\
2Nlc3NfbmFtZT0lKHByb2dyYW1fbmFtZSlzCm51bXByb2NzPTEKZGlyZWN0b3J5PS8KdW1h\
c2s9MDIyCnByaW9yaXR5PTk5OQphdXRvc3RhcnQ9dHJ1ZQphdXRvcmVzdGFydD10cnVlCnN\
0YXJ0c2Vjcz0xCnN0YXJ0cmV0cmllcz0zCmV4aXRjb2Rlcz0wLDIKc3RvcHNpZ25hbD1URV\
JNCnN0b3B3YWl0c2Vjcz0xMAp1c2VyPURlYmlhbi1leGltCnJlZGlyZWN0X3N0ZGVycj10c\
nVlCnN0ZG91dF9sb2dmaWxlPS9zdXBlcnZpc29yL2V4aW00LmxvZwpzdGRvdXRfbG9nZmls\
ZV9tYXhieXRlcz01ME1CCnN0ZG91dF9sb2dmaWxlX2JhY2t1cHM9MTAKc3Rkb3V0X2NhcHR\
1cmVfbWF4Ynl0ZXM9MApzdGRvdXRfZXZlbnRzX2VuYWJsZWQ9ZmFsc2UKc3RkZXJyX2xvZ2\
ZpbGU9QVVUTwpzdGRlcnJfbG9nZmlsZV9tYXhieXRlcz01ME1CCnN0ZGVycl9sb2dmaWxlX\
2JhY2t1cHM9MTAKc3RkZXJyX2NhcHR1cmVfbWF4Ynl0ZXM9MApzdGRlcnJfZXZlbnRzX2Vu\
YWJsZWQ9ZmFsc2UKZW52aXJvbm1lbnQ9CkVPRgoKfQplZF9leGltNF91aWRfZ2lkX3VwZGF\
0ZSAoKSAKeyAKICAgIGlmIFtbICIke0VYSU00X0VOQUJMRTotMH0iID09ICIwIiBdXTsgdG\
hlbgogICAgICAgIHJtIC1mIC9ldGMvcy5zdXBlcnZpc29yL2V4aW00LnM7CiAgICAgICAgZ\
XhpdCAwOwogICAgZmk7CiAgICBFWElNNF9VSUQ9IiR7RVhJTTRfVUlEOi0xMDAwNH0iOwog\
ICAgRVhJTTRfR0lEPSIke0VYSU00X0dJRDotMTAwMDR9IjsKICAgIGdyb3VwbW9kIC1nICI\
kRVhJTTRfR0lEIiBEZWJpYW4tZXhpbTsKICAgIHVzZXJtb2QgLWcgIiRFWElNNF9HSUQiIC\
11ICIkRVhJTTRfVUlEIiBEZWJpYW4tZXhpbTsKICAgIG1rZGlyIC1wdiAvdmFyL2xvZy9le\
GltNCAvdmFyL3Nwb29sL2V4aW00LzsKICAgIGNobW9kIDc1MCAvdmFyL2xvZy9leGltNCAv\
dmFyL3Nwb29sL2V4aW00LzsKICAgIGNob3duIERlYmlhbi1leGltOkRlYmlhbi1leGltIC1\
SYyAvdmFyL3Nwb29sL2V4aW00LzsKICAgIGNob3duIERlYmlhbi1leGltOkRlYmlhbi1leG\
ltIC1SYyAvdmFyL2xvZy9leGltNC87CiAgICBjaG93biByb290OkRlYmlhbi1leGltIC9ld\
GMvZXhpbTQvcGFzc3dkLmNsaWVudDsKICAgIGxuIC12cyAvdmFyL21haWwvbWFpbCAvdmFy\
L21haWwvcm9vdCB8fCA6Cn0KZWRfbXN5c2xvZ19kYW1vbml6ZSAoKSAKeyAKICAgIGlmIFt\
bICIke01TWVNMT0dfRU5BQkxFOi0wfSIgPT0gIjAiIF1dOyB0aGVuCiAgICAgICAgcm0gLW\
YgL2V0Yy9zLnN1cGVydmlzb3IvbXN5c2xvZy5zOwogICAgICAgIGV4aXQgMDsKICAgIGZpO\
wogICAgZXhlYyBweXRob24yIC91c3IvYmluL3N5c2xvZy1zdGRvdXQucHkKfQplZF9tc3lz\
bG9nX2dlbmVyYXRlX2NvbmZpZyAoKSAKeyAKICAgIGlmIFtbICIke01TWVNMT0dfRU5BQkx\
FOi0wfSIgPT0gIjAiIF1dOyB0aGVuCiAgICAgICAgcm0gLWYgL2V0Yy9zLnN1cGVydmlzb3\
IvbXN5c2xvZy5zOwogICAgICAgIGV4aXQgMDsKICAgIGZpOwogICAgY2F0ID4gL2V0Yy9zL\
nN1cGVydmlzb3IvbXN5c2xvZy5zICA8PC1FT0YKW2V2ZW50bGlzdGVuZXI6c3Rkb3V0XQpj\
b21tYW5kID0gc3VwZXJ2aXNvcl9zdGRvdXQKYnVmZmVyX3NpemUgPSAxMDAKZXZlbnRzID0\
gUFJPQ0VTU19MT0cKcmVzdWx0X2hhbmRsZXIgPSBzdXBlcnZpc29yX3N0ZG91dDpldmVudF\
9oYW5kbGVyCnByaW9yaXR5ID0gMQoKW3Byb2dyYW06bXN5c2xvZ10KY29tbWFuZD0vYm9ja\
2VyLnNoIGVkX21zeXNsb2dfZGFtb25pemUKc3Rkb3V0X2V2ZW50c19lbmFibGVkID0gdHJ1\
ZQpzdGRlcnJfZXZlbnRzX2VuYWJsZWQgPSB0cnVlCnByaW9yaXR5ID0gMTAKRU9GCgp9CmV\
kX25naW54X2RhZW1vbml6ZSAoKSAKeyAKICAgIC91c3Ivc2Jpbi9uZ2lueCAtdCAtYyAvZX\
RjL25naW54L25naW54LmNvbmYgfHwgZXhpdCAxOwogICAgZXhlYyAvdXNyL3NiaW4vbmdpb\
nggLWMgL2V0Yy9uZ2lueC9uZ2lueC5jb25mCn0KZWRfbmdpbnhfZ2VuZXJhdGVfY29uZmln\
ICgpIAp7IAogICAgY2hvd24gLVIgd3d3LWRhdGE6d3d3LWRhdGEgL3Zhci9saWIvbmdpbng\
7CiAgICBjYXQgPiAvZXRjL3Muc3VwZXJ2aXNvci9uZ2lueC5zICA8PEVPRgpbcHJvZ3JhbT\
puZ2lueF0KY29tbWFuZD0vYm9ja2VyLnNoIGVkX25naW54X2RhZW1vbml6ZQpwcm9jZXNzX\
25hbWU9JShwcm9ncmFtX25hbWUpcwpudW1wcm9jcz0xCmRpcmVjdG9yeT0vCnVtYXNrPTAy\
Mgpwcmlvcml0eT05OTkKYXV0b3N0YXJ0PXRydWUKYXV0b3Jlc3RhcnQ9dHJ1ZQpzdGFydHN\
lY3M9MQpzdGFydHJldHJpZXM9MwpleGl0Y29kZXM9MCwyCnN0b3BzaWduYWw9VEVSTQpzdG\
9wd2FpdHNlY3M9MTAKdXNlcj1yb290CnJlZGlyZWN0X3N0ZGVycj10cnVlCnN0ZG91dF9sb\
2dmaWxlPS9zdXBlcnZpc29yL25naW54LmxvZwpzdGRvdXRfbG9nZmlsZV9tYXhieXRlcz01\
ME1CCnN0ZG91dF9sb2dmaWxlX2JhY2t1cHM9MTAKc3Rkb3V0X2NhcHR1cmVfbWF4Ynl0ZXM\
9MApzdGRvdXRfZXZlbnRzX2VuYWJsZWQ9ZmFsc2UKc3RkZXJyX2xvZ2ZpbGU9QVVUTwpzdG\
RlcnJfbG9nZmlsZV9tYXhieXRlcz01ME1CCnN0ZGVycl9sb2dmaWxlX2JhY2t1cHM9MTAKc\
3RkZXJyX2NhcHR1cmVfbWF4Ynl0ZXM9MApzdGRlcnJfZXZlbnRzX2VuYWJsZWQ9ZmFsc2UK\
ZW52aXJvbm1lbnQ9CkVPRgoKfQplZF9waHBmcG1fZGFlbW9uaXplICgpIAp7IAogICAgZXh\
lYyAvdXNyL3NiaW4vcGhwNS1mcG0gLUYgLXkgL3BocGZwbS9waHBmcG0uY29uZgp9CmVkX3\
BocGZwbV9nZW5lcmF0ZV9jb25maWcgKCkgCnsgCiAgICBsb2NhbCBfRl9DT05GSUc9Ii9ld\
GMvbmdpbngvc2l0ZXMvcGhwZnBtLmNvbmYiOwogICAgZXhwb3J0IFBIUEZQTV9ET01BSU49\
IiR7UEhQRlBNX0RPTUFJTjotJChob3N0bmFtZSAtZiB8fCBob3N0bmFtZSl9IjsKICAgIGl\
mIFtbICEgLWYgIiRfRl9DT05GSUciIF1dOyB0aGVuCiAgICAgICAgZWNobyAiOjogV2Fybm\
luZzogR2VuZXJhdGluZyAkX0ZfQ09ORklHKS4uLiIgMT4mMjsKICAgICAgICBlZF9waHBmc\
G1fZ2VuZXJhdGVfbmdpbnhfY29uZmlnID4gJF9GX0NPTkZJRzsKICAgIGZpOwogICAgX0Zf\
Q09ORklHPSIvcGhwZnBtL3BocGZwbS5jb25mIjsKICAgIGlmIFtbICEgLWYgJF9GX0NPTkZ\
JRyBdXTsgdGhlbgogICAgICAgIGVjaG8gIjo6IFVzaW5nIHRoZSBkZWZhdWx0IGNvbmZpZ3\
VyYXRpb24gZmlsZS4uLiIgMT4mMjsKICAgICAgICBjcCAtZnYgJF9GX0NPTkZJRy5kZWZhd\
Wx0ICRfRl9DT05GSUc7CiAgICBmaTsKICAgIG1rZGlyIC1wdiAvcGhwZnBtL3Zhci8gL3Bo\
cGZwbS9sb2dzLzsKICAgIGNob3duIC1jIHd3dy1kYXRhOnd3dy1kYXRhIC9waHBmcG0vdmF\
yLyAvcGhwZnBtL2xvZ3MvOwogICAgY2htb2QgLWMgNzUwIC9waHBmcG0vdmFyLyAvcGhwZn\
BtL2xvZ3MvOwogICAgY2F0ID4gL2V0Yy9zLnN1cGVydmlzb3IvcGhwZnBtLnMgIDw8RU9GC\
ltwcm9ncmFtOnBocGZwbV0KY29tbWFuZD0vYm9ja2VyLnNoIGVkX3BocGZwbV9kYWVtb25p\
emUKcHJvY2Vzc19uYW1lPSUocHJvZ3JhbV9uYW1lKXMKbnVtcHJvY3M9MQpkaXJlY3Rvcnk\
9Lwp1bWFzaz0wMjIKcHJpb3JpdHk9OTk5CmF1dG9zdGFydD10cnVlCmF1dG9yZXN0YXJ0PX\
RydWUKc3RhcnRzZWNzPTEKc3RhcnRyZXRyaWVzPTMKZXhpdGNvZGVzPTAsMgpzdG9wc2lnb\
mFsPVRFUk0Kc3RvcHdhaXRzZWNzPTEwCnVzZXI9d3d3LWRhdGEKcmVkaXJlY3Rfc3RkZXJy\
PXRydWUKc3Rkb3V0X2xvZ2ZpbGU9L3N1cGVydmlzb3IvcGhwZnBtLmxvZwpzdGRvdXRfbG9\
nZmlsZV9tYXhieXRlcz01ME1CCnN0ZG91dF9sb2dmaWxlX2JhY2t1cHM9MTAKc3Rkb3V0X2\
NhcHR1cmVfbWF4Ynl0ZXM9MApzdGRvdXRfZXZlbnRzX2VuYWJsZWQ9ZmFsc2UKc3RkZXJyX\
2xvZ2ZpbGU9QVVUTwpzdGRlcnJfbG9nZmlsZV9tYXhieXRlcz01ME1CCnN0ZGVycl9sb2dm\
aWxlX2JhY2t1cHM9MTAKc3RkZXJyX2NhcHR1cmVfbWF4Ynl0ZXM9MApzdGRlcnJfZXZlbnR\
zX2VuYWJsZWQ9ZmFsc2UKZW52aXJvbm1lbnQ9CkVPRgoKfQplZF9waHBmcG1fZ2VuZXJhdG\
VfbmdpbnhfY29uZmlnICgpIAp7IAogICAgY2F0ICA8PC1FT0YKICAjIFRoaXMgZmlsZSB3Y\
XMgZ2VuZXJhdGVkIGZvciBXb3JkcHJlc3MvcGhwZnBtLgogIHNlcnZlciB7CiAgICBsaXN0\
ZW4gICAgICAgODA7CiAgICBzZXJ2ZXJfbmFtZSAgJHtQSFBGUE1fRE9NQUlOfSAke1BIUEZ\
QTV9PVEhFUl9ET01BSU5TOi19OwogICAgcm9vdCAgICAgICAgIC9waHBmcG0vd3d3LzsKCi\
AgICBpbmRleCBpbmRleC5waHAgaW5kZXguaHRtbDsKCiAgICBlcnJvcl9sb2cgICAvdmFyL\
2xvZy9uZ2lueC8ke1BIUEZQTV9ET01BSU59LmVycm9yLmxvZzsKICAgIGFjY2Vzc19sb2cg\
IC92YXIvbG9nL25naW54LyR7UEhQRlBNX0RPTUFJTn0uYWNjZXMubG9nIG1haW47CgogICA\
gaW5jbHVkZSAvZXRjL25naW54L21pc2Mvc2VjdXJpdHkuY29uZjsKCiAgICBsb2NhdGlvbi\
AvIHsKICAgICAgdHJ5X2ZpbGVzIFwkdXJpIFwkdXJpLyAvaW5kZXgucGhwP3E9XCR1cmkmX\
CRhcmdzOwogICAgfQoKICAgIGxvY2F0aW9uIH4gXC5waHAkIHsKICAgICAgZmFzdGNnaV9w\
YXNzICAgICB1bml4Oi9waHBmcG0vdmFyL3BocGZwbS5zb2NrOwogICAgICBmYXN0Y2dpX2l\
uZGV4ICAgIGluZGV4LnBocDsKICAgICAgZmFzdGNnaV9wYXJhbSAgICBTQ1JJUFRfRklMRU\
5BTUUgIC9waHBmcG0vd3d3L1wkZmFzdGNnaV9zY3JpcHRfbmFtZTsKICAgICAgaW5jbHVkZ\
SAgICAgICAgICAvZXRjL25naW54L2Zhc3RjZ2lfcGFyYW1zOwogICAgfQogIH0KRU9GCgp9\
CmVkX3N1cGVydmlzb3JfZGFlbW9uaXplICgpIAp7IAogICAgZWRfc3VwZXJ2aXNvcl9nZW5\
lcmF0ZV9iYXNlX2NvbmZpZzsKICAgIGVkX3N1cGVydmlzb3JfZml4X3VpZF9naWQ7CiAgIC\
BlZF9zdXBlcnZpc29yX2V4ZWN1dGVfZ2VuZXJhdG9yczsKICAgIGV4ZWMgL3Vzci9iaW4vc\
3VwZXJ2aXNvcmQgLS1jb25maWd1cmF0aW9uIC9ldGMvc3VwZXJ2aXNvcmQuY29uZgp9CmVk\
X3N1cGVydmlzb3JfZXhlY3V0ZV9nZW5lcmF0b3JzICgpIAp7IAogICAgd2hpbGUgcmVhZCB\
GSUxFOyBkbwogICAgICAgIGNobW9kIC1jIDc1NSAiJEZJTEUiOwogICAgICAgIGJhc2ggLW\
4gIiRGSUxFIiAmJiB7IAogICAgICAgICAgICBlY2hvICI6OiAkRlVOQ05BTUUgPT4gJEZJT\
EUuLi4iIDE+JjI7CiAgICAgICAgICAgIGJhc2ggIiRGSUxFIgogICAgICAgIH0gfHwgdHJ1\
ZTsKICAgIGRvbmUgPCA8KGZpbmQgL2V0Yy9zLnN1cGVydmlzb3IvIC10eXBlIGYgLWluYW1\
lICIqLnNoIiB8IHNvcnQpCn0KZWRfc3VwZXJ2aXNvcl9maXhfdWlkX2dpZCAoKSAKeyAKIC\
AgIGVudiB8IGdyZXAgLUUgJ15bQS1aMC05XStfVUlEPVswLTldKyQnIHwgYXdrIC1GICdfV\
UlEPScgJ3sKICAgICAgbmFtZSA9IHRvbG93ZXIoJDEpOwogICAgICBpZiAobmFtZSA9PSAi\
ZXhpbTQiKSB7IG5hbWUgPSAiRGViaWFuLWV4aW0iIDt9CiAgICAgIGlmIChuYW1lID09ICJ\
3d3ciKSB7IG5hbWUgPSAid3d3LWRhdGEiIDt9CiAgICAgIGlkID0gJDI7CiAgICAgIGlmIC\
hpZCA9PSAwKSB7IGlkID0gNjAwMDsgfQogICAgICBwcmludGYoImdyb3VwbW9kIC1nICVzI\
CVzIHx8IGdyb3VwYWRkIC1nICVzICVzXG4iLCBpZCwgbmFtZSwgaWQsIG5hbWUpOwogICAg\
ICBwcmludGYoInVzZXJtb2QgLXUgJXMgLWcgJXMgJXMgfHwgdXNlcmFkZCAtcyAvYmluL3R\
ydWUgLXUgJXMgLWcgJXMgJXNcbiIsIGlkLCBpZCwgbmFtZSwgaWQsIGlkLCBuYW1lKTsKIC\
AgIH0nIHwgYmFzaCAteDsKICAgIGVudiB8IGdyZXAgLUUgJ15bQS1aMC05XStfR0lEPVswL\
TldKyQnIHwgYXdrIC1GICdfR0lEPScgJ3sKICAgICAgbmFtZSA9IHRvbG93ZXIoJDEpOwog\
ICAgICBpZiAobmFtZSA9PSAiZXhpbTQiKSB7IG5hbWUgPSAiRGViaWFuLWV4aW0iIDt9CiA\
gICAgIGlmIChuYW1lID09ICJ3d3ciKSB7IG5hbWUgPSAid3d3LWRhdGEiIDt9CiAgICAgIG\
lkID0gJDI7CiAgICAgIGlmIChpZCA9PSAwKSB7IGlkID0gNjAwMDsgfQogICAgICBwcmlud\
GYoImdyb3VwbW9kIC1nICVzICVzIHx8IGdyb3VwYWRkIC1nICVzICVzXG4iLCBpZCwgbmFt\
ZSwgaWQsIG5hbWUpOwogICAgfScgfCBiYXNoIC14Cn0KZWRfc3VwZXJ2aXNvcl9nZW5lcmF\
0ZV9iYXNlX2NvbmZpZyAoKSAKeyAKICAgIGNhdCA+IC9ldGMvc3VwZXJ2aXNvcmQuY29uZi\
AgPDxFT0YKOwo7IHN1cGVydmlzb3JkIG1haW4gY29uZmlnIGZpbGUgLSB2MC4xCjsgRG8gb\
m90IGVkaXQgdGhpcyBmaWxlCjsKClt1bml4X2h0dHBfc2VydmVyXQpmaWxlPS92YXIvcnVu\
L3N1cGVydmlzb3Iuc29jayAgIDsgKHRoZSBwYXRoIHRvIHRoZSBzb2NrZXQgZmlsZSkKY2h\
tb2Q9MDcwMCAgICAgICAgICAgICAgICAgICAgICA7IHNvY2tlZiBmaWxlIG1vZGUgKGRlZm\
F1bHQgMDcwMCkKCltzdXBlcnZpc29yZF0Kbm9kYWVtb249dHJ1ZQpsb2dmaWxlPS9zdXBlc\
nZpc29yL19fZGFlbW9uLmxvZyA7IChtYWluIGxvZyBmaWxlO2RlZmF1bHQgJENXRC9zdXBl\
cnZpc29yZC5sb2cpCnBpZGZpbGU9L3Zhci9ydW4vc3VwZXJ2aXNvcmQucGlkIDsgKHN1cGV\
ydmlzb3JkIHBpZGZpbGU7ZGVmYXVsdCBzdXBlcnZpc29yZC5waWQpCmNoaWxkbG9nZGlyPS\
9zdXBlcnZpc29yLyAgICAgICAgIDsgKCdBVVRPJyBjaGlsZCBsb2cgZGlyLCBkZWZhdWx0I\
CRURU1QKQpsb2dmaWxlX21heGJ5dGVzPTUwTUIgICAgICAgICAgICA7IChtYXggbWFpbiBs\
b2dmaWxlIGJ5dGVzIGI0IHJvdGF0aW9uO2RlZmF1bHQgNTBNQikKbG9nZmlsZV9iYWNrdXB\
zPTEwICAgICAgICAgICAgICAgOyAobnVtIG9mIG1haW4gbG9nZmlsZSByb3RhdGlvbiBiYW\
NrdXBzO2RlZmF1bHQgMTApCmxvZ2xldmVsPSR7U1VQRVJWSVNPUl9MT0dfTEVWRUw6LWluZ\
m99ICAgICAgICAgICAgIDsgKGxvZyBsZXZlbDtkZWZhdWx0IGluZm87IG90aGVyczogZGVi\
dWcsd2Fybix0cmFjZSkKCjsgdGhlIGJlbG93IHNlY3Rpb24gbXVzdCByZW1haW4gaW4gdGh\
lIGNvbmZpZyBmaWxlIGZvciBSUEMKOyAoc3VwZXJ2aXNvcmN0bC93ZWIgaW50ZXJmYWNlKS\
B0byB3b3JrLCBhZGRpdGlvbmFsIGludGVyZmFjZXMgbWF5IGJlCjsgYWRkZWQgYnkgZGVma\
W5pbmcgdGhlbSBpbiBzZXBhcmF0ZSBycGNpbnRlcmZhY2U6IHNlY3Rpb25zCltycGNpbnRl\
cmZhY2U6c3VwZXJ2aXNvcl0Kc3VwZXJ2aXNvci5ycGNpbnRlcmZhY2VfZmFjdG9yeSA9IHN\
1cGVydmlzb3IucnBjaW50ZXJmYWNlOm1ha2VfbWFpbl9ycGNpbnRlcmZhY2UKCltzdXBlcn\
Zpc29yY3RsXQpzZXJ2ZXJ1cmw9dW5peDovLy92YXIvcnVuL3N1cGVydmlzb3Iuc29jayA7I\
HVzZSBhIHVuaXg6Ly8gVVJMICBmb3IgYSB1bml4IHNvY2tldAoKW2luY2x1ZGVdCmZpbGVz\
ID0gL2V0Yy9zLnN1cGVydmlzb3IvKi5zCkVPRgoKfQplZF93b3JkcHJlc3NfZ2VuZXJhdGV\
fY29uZmlnICgpIAp7IAogICAgZXhwb3J0IFdQX1ZFUlNJT049IiR7V1BfVkVSU0lPTjotNC\
4yLjJ9IjsKICAgIGV4cG9ydCBXUF9VUkw9IiR7V1BfVVJMOi1odHRwczovL3dvcmRwcmVzc\
y5vcmcvd29yZHByZXNzLTQuMi4yLnRhci5nen0iOwogICAgX0ZfQ09ORklHPSIvcGhwZnBt\
L3d3dy93cC1jb25maWcucGhwIjsKICAgIGlmIFtbICEgLWYgIiRfRl9DT05GSUciIF1dOyB\
0aGVuCiAgICAgICAgZWNobyAiOjogJEZVTkNOQU1FOiBHZW5lcmF0aW5nIGNvbmZpZ3VyYX\
Rpb24gJyRfRl9DT05GSUcnLi4uIiAxPiYyOwogICAgICAgIGVkX3dvcmRwcmVzc19nZW5lc\
mF0ZV93cF9jb25maWcgPiAkX0ZfQ09ORklHOwogICAgZmk7CiAgICBpZiBbWyAtZiAiL3Bo\
cGZwbS93d3cvd3AtaW5jbHVkZXMvdmVyc2lvbi5waHAiIF1dOyB0aGVuCiAgICAgICAgZWN\
obyAiOjogJEZVTkNOQU1FOiBXb3JkcHJlc3MgZG9lcyBleGlzdCBpbiAvcGhwZnBtL3d3dy\
8uIiAxPiYyOwogICAgZWxzZQogICAgICAgIGVjaG8gIjo6ICRGVU5DTkFNRTogRG93bmxvY\
WRpbmcgd29yZHByZXNzIGZyb20gJHtXUF9VUkx9Li4uIiAxPiYyOwogICAgICAgIGN1cmwg\
LUxzby0gIiR7V1BfVVJMfSIgfCB0YXIgLXh6ZiAtIC0tc3RyaXAtY29tcG9uZW50cz0xIC1\
DIC9waHBmcG0vd3d3LzsKICAgIGZpOwogICAgaWYgW1sgIiR7V1BfRk9SQ0VfQ0hPV046LX\
0iID09ICIxIiBdXTsgdGhlbgogICAgICAgIGVjaG8gIjo6ICRGVU5DTkFNRTogV1BfRk9SQ\
0VfQ0hPV04gaXMgdXNlZCB0byBmaXggb3duZXIgb2YgYWxsIGZpbGVzIHVuZGVyIC9waHBm\
cG0vd3d3LyIgMT4mMjsKICAgICAgICBmaW5kIC9waHBmcG0vd3d3LyAtbWluZGVwdGggMSA\
tZXhlYyBjaG93biB3d3ctZGF0YToge30gXDs7CiAgICBmaQp9CmVkX3dvcmRwcmVzc19nZW\
5lcmF0ZV93cF9jb25maWcgKCkgCnsgCiAgICBleHBvcnQgV1BfREJfTkFNRT0iJHtXUF9EQ\
l9OQU1FOi13b3JkcHJlc3N9IjsKICAgIGV4cG9ydCBXUF9EQl9VU0VSPSIke1dQX0RCX1VT\
RVI6LXdvcmRwcmVzc30iOwogICAgZXhwb3J0IFdQX0RCX1BBU1NXRD0iJHtXUF9EQl9QQVN\
TV0Q6LXdvcmRwcmVzc30iOwogICAgZXhwb3J0IFdQX0RCX0hPU1Q9IiR7V1BfREJfSE9TVD\
otZGJ9IjsKICAgIGZ1bmN0aW9uIGVkX3dvcmRwcmVzc19yYW5kb21fNjRfY2hhcnMgKCkgC\
iAgICB7IAogICAgICAgIHRyIC1kYyAnX0EtWi1hLXotMC05IUAjJCUnIDwgL2Rldi91cmFu\
ZG9tIHwgaGVhZCAtYzY0OwogICAgICAgIGVjaG8gIiIKICAgIH07CiAgICBjYXQgIDw8LUV\
PRgo8P3BocAoKZGVmaW5lKCdEQl9OQU1FJywgICAgICcke1dQX0RCX05BTUV9Jyk7CmRlZm\
luZSgnREJfVVNFUicsICAgICAnJHtXUF9EQl9VU0VSfScpOwpkZWZpbmUoJ0RCX1BBU1NXT\
1JEJywgJyR7V1BfREJfUEFTU1dEfScpOwpkZWZpbmUoJ0RCX0hPU1QnLCAgICAgJyR7V1Bf\
REJfSE9TVH0nKTsKCmRlZmluZSgnREJfQ0hBUlNFVCcsICd1dGY4Jyk7CmRlZmluZSgnREJ\
fQ09MTEFURScsICcnKTsKCmRlZmluZSgnQVVUSF9LRVknLCAgICAgICAgICckKGVkX3dvcm\
RwcmVzc19yYW5kb21fNjRfY2hhcnMpJyk7CmRlZmluZSgnU0VDVVJFX0FVVEhfS0VZJywgI\
CckKGVkX3dvcmRwcmVzc19yYW5kb21fNjRfY2hhcnMpJyk7CmRlZmluZSgnTE9HR0VEX0lO\
X0tFWScsICAgICckKGVkX3dvcmRwcmVzc19yYW5kb21fNjRfY2hhcnMpJyk7CmRlZmluZSg\
nTk9OQ0VfS0VZJywgICAgICAgICckKGVkX3dvcmRwcmVzc19yYW5kb21fNjRfY2hhcnMpJy\
k7CmRlZmluZSgnQVVUSF9TQUxUJywgICAgICAgICckKGVkX3dvcmRwcmVzc19yYW5kb21fN\
jRfY2hhcnMpJyk7CmRlZmluZSgnU0VDVVJFX0FVVEhfU0FMVCcsICckKGVkX3dvcmRwcmVz\
c19yYW5kb21fNjRfY2hhcnMpJyk7CmRlZmluZSgnTE9HR0VEX0lOX1NBTFQnLCAgICckKGV\
kX3dvcmRwcmVzc19yYW5kb21fNjRfY2hhcnMpJyk7CmRlZmluZSgnTk9OQ0VfU0FMVCcsIC\
AgICAgICckKGVkX3dvcmRwcmVzc19yYW5kb21fNjRfY2hhcnMpJyk7CgpcJHRhYmxlX3ByZ\
WZpeCAgPSAnd3BfJzsKCmRlZmluZSgnV1BfREVCVUcnLCBmYWxzZSk7CgppZiAoICFkZWZp\
bmVkKCdBQlNQQVRIJykgKQogIGRlZmluZSgnQUJTUEFUSCcsIGRpcm5hbWUoX19GSUxFX18\
pIC4gJy8nKTsKCnJlcXVpcmVfb25jZShBQlNQQVRIIC4gJ3dwLXNldHRpbmdzLnBocCcpOw\
pFT0YKCn0KZWNobyAnIyEvYmluL2Jhc2gnID4gL2JvY2tlci5zaAplY2hvICcjIFRoaXMgZ\
mlsZSBpcyBnZW5lcmF0ZWQgYnkgQm9ja2VyLicgPj4gL2JvY2tlci5zaApkZWNsYXJlIC1m\
ID4+IC9ib2NrZXIuc2gKZWNobyAnaWYgW1sgLW4gIiRAIiBdXTsgdGhlbiAkQDsgZmk7ICc\
gPj4gL2JvY2tlci5zaApjaG1vZCA3NTUgL2JvY2tlci5zaAo=\
  | base64 -d | bash

ENV --LATER WP_VERSION 4.2.2
ENV --LATER WWW_UID 10005

VOLUME /phpfpm/www/
VOLUME /phpfpm/www/wp-content/

CMD ["/supervisor.sh"]
